import{_ as g,s as _,r as n,o as k,d as i,a as R,w,b as F,u as S,f as r,g as o,p as V,k as d,l as B,h as u,v,F as M,m as U,t as b,q as f}from"./index-CfG8UM58.js";const E={class:"p-6 max-w-3xl mx-auto bg-white shadow rounded-lg"},I=["value"],T={key:0,class:"text-red-600"},q={__name:"RoomInventoryEdit",setup(N){const y=_(),x=S(),m=y.params.id,p=n([]),l=n(""),s=n({room_number:"",room_type_id:"",floor:"",status:"available"});k(async()=>{try{const[a,e]=await Promise.all([i.get("roomtypes"),i.get(`roominventory/${m}`)]);p.value=a.data;const t=e.data;s.value={room_number:t.room_number,room_type_id:t.room_type_id,floor:t.floor,status:t.status}}catch{l.value="Failed to load room data."}});const c=async()=>{l.value="";try{const a=await i.put(`roominventory/${m}`,s.value);a.data.status==="success"?x.push("/inventory"):l.value=a.data.message||"Failed to update room."}catch(a){l.value=a.response?.data?.message||"Server error."}};return(a,e)=>(r(),R(F,null,{default:w(()=>[o("div",E,[e[11]||(e[11]=o("h2",{class:"text-xl font-semibold mb-6 border-b pb-2"},"Edit Room Inventory",-1)),o("form",{onSubmit:V(c,["prevent"]),class:"space-y-6"},[o("div",null,[e[4]||(e[4]=o("label",{class:"block mb-1 font-medium"},"Room Number *",-1)),u(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.room_number=t),type:"text",class:"input-field",required:""},null,512),[[v,s.value.room_number]])]),o("div",null,[e[6]||(e[6]=o("label",{class:"block mb-1 font-medium"},"Room Type *",-1)),u(o("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.room_type_id=t),class:"input-field",required:""},[e[5]||(e[5]=o("option",{disabled:"",value:""},"Select Room Type",-1)),(r(!0),d(M,null,U(p.value,t=>(r(),d("option",{key:t.id,value:t.id},b(t.name),9,I))),128))],512),[[f,s.value.room_type_id]])]),o("div",null,[e[7]||(e[7]=o("label",{class:"block mb-1 font-medium"},"Floor",-1)),u(o("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.floor=t),type:"text",class:"input-field"},null,512),[[v,s.value.floor]])]),o("div",null,[e[9]||(e[9]=o("label",{class:"block mb-1 font-medium"},"Status",-1)),u(o("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.value.status=t),class:"input-field"},e[8]||(e[8]=[o("option",{value:"available"},"Available",-1),o("option",{value:"maintenance"},"Maintenance",-1),o("option",{value:"booked"},"Booked",-1)]),512),[[f,s.value.status]])]),l.value?(r(),d("p",T,b(l.value),1)):B("",!0),e[10]||(e[10]=o("div",{class:"text-right"},[o("button",{type:"submit",class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg"}," Update Room ")],-1))],32)])]),_:1}))}},C=g(q,[["__scopeId","data-v-6409b2a1"]]);export{C as default};
