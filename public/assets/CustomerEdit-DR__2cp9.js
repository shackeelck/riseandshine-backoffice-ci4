import{s as b,r as d,o as v,d as i,a as g,w as x,b as y,u as w,f as m,g as s,p as k,k as h,l as U,h as u,v as r,t as C}from"./index-CfG8UM58.js";const V={class:"max-w-3xl mx-auto p-6"},B={class:"bg-white shadow rounded-xl p-6"},E={class:"grid grid-cols-2 gap-4"},N={key:0,class:"text-red-600"},S={__name:"CustomerEdit",setup(_){const p=b(),f=w(),n=p.params.id,t=d({name:"",email:"",phone:"",id_proof:""}),l=d("");v(async()=>{try{const a=await i.get(`customers/${n}`);t.value=a.data}catch{l.value="Unable to load customer."}});const c=async()=>{if(l.value="",!t.value.name){l.value="Name is required.";return}try{const a=await i.put(`customers/${n}`,t.value);a.data.status==="success"?f.push("/customers"):l.value=a.data.message||"Update failed."}catch(a){l.value=a.response?.data?.message||"Server error."}};return(a,e)=>(m(),g(y,null,{default:x(()=>[s("div",V,[s("div",B,[e[7]||(e[7]=s("h2",{class:"text-2xl font-bold border-b mb-6"},"Edit Customer",-1)),s("form",{onSubmit:k(c,["prevent"]),class:"space-y-6"},[s("div",null,[e[3]||(e[3]=s("label",{class:"block font-medium mb-1",for:"name"},"Name *",-1)),u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o),type:"text",id:"name",class:"w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-400",required:""},null,512),[[r,t.value.name]])]),s("div",E,[s("div",null,[e[4]||(e[4]=s("label",{class:"block font-medium mb-1",for:"email"},"Email",-1)),u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.email=o),type:"email",id:"email",class:"w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-400"},null,512),[[r,t.value.email]])]),s("div",null,[e[5]||(e[5]=s("label",{class:"block font-medium mb-1",for:"phone"},"Phone",-1)),u(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.phone=o),type:"text",id:"phone",class:"w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-400"},null,512),[[r,t.value.phone]])])]),l.value?(m(),h("p",N,C(l.value),1)):U("",!0),e[6]||(e[6]=s("div",{class:"flex justify-end"},[s("button",{type:"submit",class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg"}," Update ")],-1))],32)])])]),_:1}))}};export{S as default};
