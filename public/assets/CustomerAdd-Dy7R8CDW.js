import{r as n,a as p,w as f,b,u as v,f as i,g as s,p as c,k as g,l as x,h as r,v as u,t as y,d as w}from"./index-CfG8UM58.js";const k={class:"max-w-3xl mx-auto p-6"},h={class:"bg-white shadow rounded-xl p-6"},V={class:"grid grid-cols-2 gap-4"},B={key:0,class:"text-red-600"},S={__name:"CustomerAdd",setup(C){const d=v(),t=n(""),l=n({name:"",email:"",phone:"",id_proof:""}),m=async()=>{if(t.value="",!l.value.name){t.value="Name is required.";return}try{const o=await w.post("customers",l.value);o.data.status==="success"?d.push("/customers"):t.value=o.data.message||"Failed to save customer."}catch(o){t.value=o.response?.data?.message||"Server error."}};return(o,e)=>(i(),p(b,null,{default:f(()=>[s("div",k,[s("div",h,[e[7]||(e[7]=s("h2",{class:"text-2xl font-bold mb-6 border-b"},"Add Customer",-1)),s("form",{onSubmit:c(m,["prevent"]),class:"space-y-6"},[s("div",null,[e[3]||(e[3]=s("label",{class:"block font-medium mb-1",for:"name"},"Name *",-1)),r(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.name=a),type:"text",id:"name",class:"w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-400",required:""},null,512),[[u,l.value.name]])]),s("div",V,[s("div",null,[e[4]||(e[4]=s("label",{class:"block font-medium mb-1",for:"email"},"Email",-1)),r(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.email=a),type:"email",id:"email",class:"w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-400"},null,512),[[u,l.value.email]])]),s("div",null,[e[5]||(e[5]=s("label",{class:"block font-medium mb-1",for:"phone"},"Phone",-1)),r(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.phone=a),type:"text",id:"phone",class:"w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-400"},null,512),[[u,l.value.phone]])])]),t.value?(i(),g("p",B,y(t.value),1)):x("",!0),e[6]||(e[6]=s("div",{class:"flex justify-end"},[s("button",{type:"submit",class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg"}," Save ")],-1))],32)])])]),_:1}))}};export{S as default};
