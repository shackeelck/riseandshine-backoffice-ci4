import{_ as h,r as c,o as T,d as f,a as C,w,b as S,u as P,f as a,g as e,p as q,h as d,k as u,F as p,m,t as E,q as B,v as i}from"./index-CfG8UM58.js";const D={class:"p-6 max-w-3xl mx-auto bg-white shadow rounded-lg"},M=["value"],A=["onUpdate:modelValue"],F=["onUpdate:modelValue"],R=["onUpdate:modelValue"],$=["onUpdate:modelValue"],N={class:"flex flex-col justify-end"},j={class:"flex gap-2"},I=["onUpdate:modelValue"],L=["onClick"],z=["onUpdate:modelValue"],G=["onUpdate:modelValue"],H={class:"flex items-end"},J=["onClick"],K=["onUpdate:modelValue"],O=["onUpdate:modelValue"],Q={class:"flex items-end"},W=["onClick"],X={__name:"TariffEntry",setup(Y){const v=P(),b=c([]),o=c({room_type_id:"",periods:[{start:"",end:"",single:0,double:0,extra:0}],supplements:[{name:"",price:0}],transfers:[{type:"",price:0}]});T(async()=>{const n=await f.get("roomtypes");b.value=n.data});function x(){o.value.periods.push({start:"",end:"",single:0,double:0,extra:0})}function y(n){o.value.periods.splice(n,1)}function g(){o.value.supplements.push({name:"",price:0})}function k(n){o.value.supplements.splice(n,1)}function _(){o.value.transfers.push({type:"",price:0})}function V(n){o.value.transfers.splice(n,1)}async function U(){try{await f.post("tariffs",o.value),v.push("/tariffs")}catch(n){alert(n.response?.data?.message||"Failed to save tariff.")}}return(n,t)=>(a(),C(S,null,{default:w(()=>[e("div",D,[t[16]||(t[16]=e("h2",{class:"text-2xl font-semibold mb-6 border-b pb-2"},"Tariff Entry",-1)),e("form",{onSubmit:q(U,["prevent"]),class:"space-y-8"},[e("div",null,[t[2]||(t[2]=e("label",{class:"block font-medium mb-1"},"Room Type *",-1)),d(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.value.room_type_id=l),class:"input-field",required:""},[t[1]||(t[1]=e("option",{disabled:"",value:""},"Select a room type",-1)),(a(!0),u(p,null,m(b.value,l=>(a(),u("option",{key:l.id,value:l.id},E(l.name),9,M))),128))],512),[[B,o.value.room_type_id]])]),e("div",null,[t[8]||(t[8]=e("h3",{class:"font-semibold mb-2"},"Tariff Periods",-1)),(a(!0),u(p,null,m(o.value.periods,(l,r)=>(a(),u("div",{key:r,class:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4"},[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm mb-1"},"Start Date *",-1)),d(e("input",{"onUpdate:modelValue":s=>l.start=s,type:"date",class:"input-field",required:""},null,8,A),[[i,l.start]])]),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm mb-1"},"End Date *",-1)),d(e("input",{"onUpdate:modelValue":s=>l.end=s,type:"date",class:"input-field",required:""},null,8,F),[[i,l.end]])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm mb-1"},"Single Rate *",-1)),d(e("input",{"onUpdate:modelValue":s=>l.single=s,type:"number",min:"0",class:"input-field",required:""},null,8,R),[[i,l.single,void 0,{number:!0}]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm mb-1"},"Double Rate *",-1)),d(e("input",{"onUpdate:modelValue":s=>l.double=s,type:"number",min:"0",class:"input-field",required:""},null,8,$),[[i,l.double,void 0,{number:!0}]])]),e("div",N,[e("div",j,[t[7]||(t[7]=e("label",{class:"text-sm"},"Extra Person",-1)),d(e("input",{"onUpdate:modelValue":s=>l.extra=s,type:"number",min:"0",class:"input-field w-24",required:""},null,8,I),[[i,l.extra,void 0,{number:!0}]]),e("button",{type:"button",onClick:s=>y(r),class:"text-red-600 hover:text-red-800"}," ✕ ",8,L)])])]))),128)),e("button",{type:"button",onClick:x,class:"text-blue-600 hover:underline"}," + Add Period ")]),e("div",null,[t[11]||(t[11]=e("h3",{class:"font-semibold mb-2"},"Meal Supplements",-1)),(a(!0),u(p,null,m(o.value.supplements,(l,r)=>(a(),u("div",{key:r,class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm mb-1"},"Name",-1)),d(e("input",{"onUpdate:modelValue":s=>l.name=s,type:"text",class:"input-field",placeholder:"e.g. Breakfast"},null,8,z),[[i,l.name]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm mb-1"},"Price",-1)),d(e("input",{"onUpdate:modelValue":s=>l.price=s,type:"number",min:"0",class:"input-field",placeholder:"0.00"},null,8,G),[[i,l.price,void 0,{number:!0}]])]),e("div",H,[e("button",{type:"button",onClick:s=>k(r),class:"text-red-600 hover:text-red-800"}," ✕ ",8,J)])]))),128)),e("button",{type:"button",onClick:g,class:"text-blue-600 hover:underline"}," + Add Supplement ")]),e("div",null,[t[14]||(t[14]=e("h3",{class:"font-semibold mb-2"},"Transfer Charges",-1)),(a(!0),u(p,null,m(o.value.transfers,(l,r)=>(a(),u("div",{key:r,class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm mb-1"},"Type",-1)),d(e("input",{"onUpdate:modelValue":s=>l.type=s,type:"text",class:"input-field",placeholder:"e.g. Airport Pickup"},null,8,K),[[i,l.type]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm mb-1"},"Price",-1)),d(e("input",{"onUpdate:modelValue":s=>l.price=s,type:"number",min:"0",class:"input-field",placeholder:"0.00"},null,8,O),[[i,l.price,void 0,{number:!0}]])]),e("div",Q,[e("button",{type:"button",onClick:s=>V(r),class:"text-red-600 hover:text-red-800"}," ✕ ",8,W)])]))),128)),e("button",{type:"button",onClick:_,class:"text-blue-600 hover:underline"}," + Add Transfer Charge ")]),t[15]||(t[15]=e("div",{class:"text-right"},[e("button",{type:"submit",class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg"}," Save Tariff ")],-1))],32)])]),_:1}))}},ee=h(X,[["__scopeId","data-v-4cd5a6e1"]]);export{ee as default};
