import{_ as M,r as o,o as N,C as I,a as A,w as D,b as S,d as v,f as i,g as t,k as u,l as x,h as b,v as g,F as V,m as $,t as r,n as j,q}from"./index-Dv5Rhcvw.js";const B={class:"p-6 max-w-5xl mx-auto"},E={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4"},U={class:"flex gap-2 w-full md:w-auto"},F={class:"bg-white rounded-lg shadow overflow-auto"},L={class:"w-full text-sm"},z={class:"p-3"},P={class:"p-3"},R={class:"p-3"},T={class:"p-3 text-right space-x-2"},G=["onClick"],H=["onClick"],J={key:0},K={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50"},O={class:"bg-white rounded-lg shadow max-w-lg w-full"},Q={class:"p-4 border-b flex items-center justify-between"},W={class:"font-semibold"},X={class:"p-4 space-y-4"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z={key:0,class:"text-red-600 text-sm"},tt={__name:"MinibarItemsList",setup(et){const f=o([]),c=o(""),d=o(!1),m=o(!1),n=o(""),a=o({id:null,name:"",price:0,status:1}),p=async()=>{const l=await v.get("minibar",{params:{q:c.value}});f.value=l.data||[]};N(p),I(c,p);const w=()=>{m.value=!1,n.value="",a.value={id:null,name:"",price:0,status:1},d.value=!0},y=l=>{m.value=!0,n.value="",a.value={id:l.id,name:l.name,price:Number(l.price||0),status:Number(l.status)},d.value=!0},_=()=>d.value=!1,h=async()=>{if(n.value="",!a.value.name.trim()){n.value="Name is required";return}const l={name:a.value.name,price:a.value.price,status:a.value.status};m.value?await v.put(`minibar/${a.value.id}`,l):await v.post("minibar",l),d.value=!1,await p()},k=async l=>{confirm(`Delete minibar item "${l.name}"?`)&&(await v.delete(`minibar/${l.id}`),await p())};return(l,e)=>(i(),A(S,null,{default:D(()=>[t("div",B,[t("div",E,[e[4]||(e[4]=t("h2",{class:"text-xl font-bold"},"Minibar Items",-1)),t("div",U,[b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),class:"input",placeholder:"Search item..."},null,512),[[g,c.value]]),t("button",{onClick:w,class:"btn-primary"},"+ Add")])]),t("div",F,[t("table",L,[e[6]||(e[6]=t("thead",{class:"bg-gray-100 text-gray-700 font-semibold"},[t("tr",null,[t("th",{class:"p-3 text-left"},"Item"),t("th",{class:"p-3 text-left"},"Price"),t("th",{class:"p-3 text-left"},"Status"),t("th",{class:"p-3 text-right"},"Actions")])],-1)),t("tbody",null,[(i(!0),u(V,null,$(f.value,s=>(i(),u("tr",{key:s.id,class:"border-t hover:bg-gray-50"},[t("td",z,r(s.name),1),t("td",P,r(Number(s.price||0).toFixed(2)),1),t("td",R,[t("span",{class:j(s.status==1?"badge-green":"badge-gray")},r(s.status==1?"Active":"Disabled"),3)]),t("td",T,[t("button",{onClick:C=>y(s),class:"btn-secondary"},"Edit",8,G),t("button",{onClick:C=>k(s),class:"btn-danger"},"Delete",8,H)])]))),128)),f.value.length?x("",!0):(i(),u("tr",J,e[5]||(e[5]=[t("td",{colspan:"4",class:"p-6 text-center text-gray-500"},"No minibar items found.",-1)])))])])]),d.value?(i(),u("div",K,[t("div",O,[t("div",Q,[t("h3",W,r(m.value?"Edit Item":"Add Item"),1),t("button",{onClick:_,class:"text-gray-500 hover:text-gray-900"},"âœ•")]),t("div",X,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium mb-1"},"Name *",-1)),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.name=s),class:"input"},null,512),[[g,a.value.name]])]),t("div",Y,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium mb-1"},"Price",-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.price=s),type:"number",step:"0.01",min:"0",class:"input"},null,512),[[g,a.value.price,void 0,{number:!0}]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium mb-1"},"Status",-1)),b(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.status=s),class:"input"},e[9]||(e[9]=[t("option",{value:1},"Active",-1),t("option",{value:0},"Disabled",-1)]),512),[[q,a.value.status,void 0,{number:!0}]])])]),n.value?(i(),u("p",Z,r(n.value),1)):x("",!0)]),t("div",{class:"p-4 border-t flex justify-end gap-2"},[t("button",{onClick:_,class:"btn-secondary"},"Cancel"),t("button",{onClick:h,class:"btn-primary"},"Save")])])])):x("",!0)])]),_:1}))}},at=M(tt,[["__scopeId","data-v-53ae4d87"]]);export{at as default};
