import{_ as A,r as o,o as N,C as D,a as S,w as $,b as M,d as v,f as i,g as t,k as d,l as f,h as x,v as g,F as V,m as j,t as p,n as q,q as B}from"./index-Dv5Rhcvw.js";const E={class:"p-6 max-w-5xl mx-auto"},L={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4"},U={class:"flex gap-2 w-full md:w-auto"},z={class:"bg-white rounded-lg shadow overflow-auto"},F={class:"w-full text-sm"},R={class:"p-3"},I={class:"p-3"},T={class:"p-3 text-right space-x-2"},G=["onClick"],H=["onClick"],J={key:0},K={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50"},O={class:"bg-white rounded-lg shadow max-w-lg w-full"},P={class:"p-4 border-b flex items-center justify-between"},Q={class:"font-semibold"},W={class:"p-4 space-y-4"},X={key:0,class:"text-red-600 text-sm"},Y={__name:"AmenitiesList",setup(Z){const b=o([]),c=o(""),u=o(!1),r=o(!1),n=o(""),s=o({id:null,name:"",status:1}),m=async()=>{const l=await v.get("amenities",{params:{q:c.value}});b.value=l.data||[]};N(m),D(c,m);const y=()=>{r.value=!1,n.value="",s.value={id:null,name:"",status:1},u.value=!0},w=l=>{r.value=!0,n.value="",s.value={id:l.id,name:l.name,status:Number(l.status)},u.value=!0},_=()=>u.value=!1,h=async()=>{if(n.value="",!s.value.name.trim()){n.value="Name is required";return}r.value?await v.put(`amenities/${s.value.id}`,{name:s.value.name,status:s.value.status}):await v.post("amenities",{name:s.value.name,status:s.value.status}),u.value=!1,await m()},k=async l=>{confirm(`Delete amenity "${l.name}"?`)&&(await v.delete(`amenities/${l.id}`),await m())};return(l,e)=>(i(),S(M,null,{default:$(()=>[t("div",E,[t("div",L,[e[3]||(e[3]=t("h2",{class:"text-xl font-bold"},"Room Amenities",-1)),t("div",U,[x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>c.value=a),class:"input",placeholder:"Search amenity..."},null,512),[[g,c.value]]),t("button",{onClick:y,class:"btn-primary"},"+ Add")])]),t("div",z,[t("table",F,[e[5]||(e[5]=t("thead",{class:"bg-gray-100 text-gray-700 font-semibold"},[t("tr",null,[t("th",{class:"p-3 text-left"},"Name"),t("th",{class:"p-3 text-left"},"Status"),t("th",{class:"p-3 text-right"},"Actions")])],-1)),t("tbody",null,[(i(!0),d(V,null,j(b.value,a=>(i(),d("tr",{key:a.id,class:"border-t hover:bg-gray-50"},[t("td",R,p(a.name),1),t("td",I,[t("span",{class:q(a.status==1?"badge-green":"badge-gray")},p(a.status==1?"Active":"Disabled"),3)]),t("td",T,[t("button",{onClick:C=>w(a),class:"btn-secondary"},"Edit",8,G),t("button",{onClick:C=>k(a),class:"btn-danger"},"Delete",8,H)])]))),128)),b.value.length?f("",!0):(i(),d("tr",J,e[4]||(e[4]=[t("td",{colspan:"3",class:"p-6 text-center text-gray-500"},"No amenities found.",-1)])))])])]),u.value?(i(),d("div",K,[t("div",O,[t("div",P,[t("h3",Q,p(r.value?"Edit Amenity":"Add Amenity"),1),t("button",{onClick:_,class:"text-gray-500 hover:text-gray-900"},"âœ•")]),t("div",W,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium mb-1"},"Name *",-1)),x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.name=a),class:"input"},null,512),[[g,s.value.name]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium mb-1"},"Status",-1)),x(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.status=a),class:"input"},e[7]||(e[7]=[t("option",{value:1},"Active",-1),t("option",{value:0},"Disabled",-1)]),512),[[B,s.value.status,void 0,{number:!0}]])]),n.value?(i(),d("p",X,p(n.value),1)):f("",!0)]),t("div",{class:"p-4 border-t flex justify-end gap-2"},[t("button",{onClick:_,class:"btn-secondary"},"Cancel"),t("button",{onClick:h,class:"btn-primary"},"Save")])])])):f("",!0)])]),_:1}))}},et=A(Y,[["__scopeId","data-v-deefcb1d"]]);export{et as default};
